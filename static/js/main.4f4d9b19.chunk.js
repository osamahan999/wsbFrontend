(this.webpackJsonpwallstreetbetsfrontend=this.webpackJsonpwallstreetbetsfrontend||[]).push([[0],{113:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n(0),a=n.n(c),o=n(12),r=n.n(o),i=(n(92),n(6)),l=n(15),u=n.n(l),d=n.p+"static/media/logo.9c5af943.jpeg";var j=function(t){return Object(s.jsxs)("div",{className:u.a.Navbar,children:[Object(s.jsx)("div",{className:u.a.HomeContainer,children:Object(s.jsx)("img",{src:d,className:u.a.Logo,onClick:function(){t.isLoggedIn?t.setCurrentPage("userfeed"):t.setCurrentPage("home")}})}),t.isLoggedIn&&Object(s.jsxs)("div",{className:u.a.UserData,children:[Object(s.jsxs)("p",{className:u.a.Data,children:["Username: ",t.currentUser.username]}),Object(s.jsxs)("p",{className:u.a.Data,children:["Your tendie funds: $",t.currentUser.total_money]})]}),t.isLoggedIn?Object(s.jsxs)("div",{className:u.a.LoginRegisterContainer,children:[Object(s.jsx)("div",{className:u.a.Option,onClick:function(){return t.setCurrentPage("profile")},children:" Profile"}),Object(s.jsx)("div",{className:u.a.Option,onClick:function(){t.logOut(),t.setCurrentPage("home")},children:"Logout"})]}):Object(s.jsxs)("div",{className:u.a.LoginRegisterContainer,children:[Object(s.jsx)("div",{className:u.a.OptionContainer,children:"login"!=t.currentPage&&Object(s.jsx)("div",{className:u.a.Option,onClick:function(){return t.setCurrentPage("login")},children:"Log in"})}),Object(s.jsx)("div",{className:u.a.OptionContainer,children:"register"!=t.currentPage&&Object(s.jsx)("div",{className:u.a.Option,onClick:function(){return t.setCurrentPage("register")},children:"Register"})})]})]})},p=n(48),h=n.n(p),b=n(40),O=n.n(b);var _=function(t){return Object(s.jsx)("div",{className:O.a.SidefillerLeft})};var m=function(t){return Object(s.jsx)("div",{className:O.a.SidefillerRight})},f=n(77),x=n(22),v=n.n(x),g=n.p+"static/media/grandtheftoptions.578024e5.png",k=n.p+"static/media/deskImage.ca6b6f13.webp",C=n.p+"static/media/stonksgoup.f60d9269.jpeg";var S=function(){return Object(s.jsxs)("div",{className:v.a.Home,children:[Object(s.jsx)(_,{}),Object(s.jsx)("div",{className:v.a.Content,children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)("div",{className:v.a.CarouselDiv,children:[Object(s.jsxs)("div",{children:["Welcome to ",Object(s.jsx)("b",{children:"Wallstreet Bets Tycoon"})]}),Object(s.jsx)("img",{className:v.a.Image,src:g})]}),Object(s.jsxs)("div",{className:v.a.CarouselDiv,children:[Object(s.jsx)("div",{children:"Why use Robinhood which crashes all the time when you can use this site?"}),Object(s.jsx)("img",{className:v.a.Image,src:k})]}),Object(s.jsxs)("div",{className:v.a.CarouselDiv,children:[Object(s.jsx)("div",{children:"This could be you!"}),Object(s.jsx)("img",{className:v.a.Image,src:C})]})]})}),Object(s.jsx)(m,{})]})},N=n(28),y=n.n(N),w=n(30);var P=function(t){var e=Object(c.useState)(""),n=Object(i.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(c.useState)(""),p=Object(i.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),x=f[0],v=f[1];return x?Object(s.jsx)("div",{children:"Logging you In"}):Object(s.jsxs)("div",{className:y.a.Login,children:[Object(s.jsx)(_,{}),Object(s.jsx)("div",{className:y.a.ContentContainer,children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:y.a.ResponseDiv,children:h}),Object(s.jsxs)("div",{className:y.a.LoginInputsContainer,children:[Object(s.jsxs)("div",{className:y.a.InputBox,children:[Object(s.jsx)("p",{children:"Username:"}),Object(s.jsx)("input",{onChange:function(t){return o(t.target.value)}})]}),Object(s.jsxs)("div",{className:y.a.InputBox,children:[Object(s.jsx)("p",{children:"Password:"}),Object(s.jsx)("input",{onChange:function(t){return d(t.target.value)}})]}),Object(s.jsx)("button",{onClick:function(){""==a||""==u?b("Cannot have empty input"):(v(!0),w.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/user/loginWithoutToken",{username:a,password:u}).then((function(e){b("Success");var n=new Date;n.setTime(n.getTime()+36e8);var s="token = "+e.data.token+"; SameSite=None; Secure; expires="+n.toUTCString();document.cookie=s,t.setUser(e.data),v(!1)})).catch((function(t){null!=t.response&&b(t.response.data),v(!1)})))},className:y.a.LoginButton,children:"$$$$$"})]})]})}),Object(s.jsx)(m,{})]})},I=n(23),D=n.n(I),U=n(30);var L=function(t){var e=Object(c.useState)(""),n=Object(i.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(c.useState)(""),p=Object(i.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(""),f=Object(i.a)(O,2),x=f[0],v=f[1];return Object(s.jsxs)("div",{className:D.a.Register,children:[Object(s.jsx)(_,{}),Object(s.jsx)("div",{className:D.a.ContentContainer,children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:D.a.ResponseDiv,children:x}),Object(s.jsxs)("div",{className:D.a.RegisterInputsContainer,children:[Object(s.jsxs)("div",{className:D.a.InputBox,children:[Object(s.jsx)("p",{children:"Email:"}),Object(s.jsx)("input",{type:"email",onChange:function(t){return b(t.target.value)}})]}),Object(s.jsxs)("div",{className:D.a.InputBox,children:[Object(s.jsx)("p",{children:"Username:"}),Object(s.jsx)("input",{onChange:function(t){return o(t.target.value)}})]}),Object(s.jsxs)("div",{className:D.a.InputBox,children:[Object(s.jsx)("p",{children:"Password:"}),Object(s.jsx)("input",{onChange:function(t){return d(t.target.value)}})]}),Object(s.jsx)("button",{onClick:function(){""==a||""==u?v("Cannot have empty input"):U.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/user/userRegister",{email:h,username:a,password:u}).then((function(t){v(t.data)})).catch((function(t){null!=t.response&&v(t.response.data)}))},className:D.a.RegisterButton,children:"Start losing money now!"})]})]})}),Object(s.jsx)(m,{})]})},T=n(49),$=n(152),R=n(29),B=n.n(R),E=n(151),A=n(145),F=n(71),M=n.n(F),Y=n(30);var H=function(t){var e=Object(c.useState)(0),n=Object(i.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),u=l[0],d=l[1],j=function(){d(!0),a<=t.amtOwned?Y.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/sellContract",{userId:t.userId,optionPurchaseId:t.purchaseId,amtToSell:a,optionSymbol:t.ticker}).then((function(e){console.log(e),t.updateNavbar(),t.updateStockPositions(),d(!1)})).catch((function(t){console.log(t.response),d(!1)})):alert("No, you dont own that many")},p=function(){d(!0),a<=t.amtOwned?Y.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/sellStock",{userId:t.userId,purchaseId:t.purchaseId,amtToSell:a,stockSymbol:t.ticker}).then((function(e){t.updateNavbar(),t.updateStockPositions(),d(!1)})).catch((function(t){d(!1)})):alert("No, you dont own that many")};return u?Object(s.jsx)("div",{children:"Selling"}):Object(s.jsx)("div",{className:M.a.SellContainer,children:0!=t.amtOwned&&Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onChange:function(t){return o(+t.target.value)},type:"number",max:t.amtOwned}),Object(s.jsxs)(A.a,{onClick:function(){t.isOption?j():p()},variant:"contained",disabled:a>t.amtOwned,children:["Sell ",a]})]})})},G=n(30);var W=function(t){var e=Object(c.useState)(""),n=Object(i.a)(e,2),a=(n[0],n[1]),o=Object(c.useState)(0),r=Object(i.a)(o,2),l=(r[0],r[1]),u=Object(c.useState)(-1),d=Object(i.a)(u,2),j=d[0],p=d[1],h=Object(c.useState)(""),b=Object(i.a)(h,2),O=b[0],f=b[1],x=Object(c.useState)([]),v=Object(i.a)(x,2),g=v[0],k=v[1],C=Object(c.useState)([]),S=Object(i.a)(C,2),N=S[0],y=S[1],w=Object(c.useState)([]),P=Object(i.a)(w,2),I=P[0],D=P[1];Object(c.useEffect)((function(){a(t.user.username),l(t.user.total_money),p(t.user.user_id)}),[]),Object(c.useEffect)((function(){U(),L()}),[j]);var U=function(){-1!=j&&G.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getSpecificPosition",{params:{userId:j}}).then((function(t){y(t.data.positions)})).catch((function(t){console.log(t)}))},L=function(){-1!=j&&G.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getSpecificOptionPosition",{params:{userId:j}}).then((function(t){D(t.data.positions)})).catch((function(t){console.log(t.response)}))};return Object(c.useEffect)((function(){O.length>0?G.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/stockData/searchBySymbol",{params:{input:O}}).then((function(t){void 0==t.data.length||0==t.data.length?k([]):k(t.data)})).catch((function(t){k([])})):k([])}),[O]),Object(s.jsxs)("div",{className:B.a.UserFeed,children:[Object(s.jsx)(_,{}),Object(s.jsxs)("div",{className:B.a.ContentContainer,children:[Object(s.jsxs)("div",{className:B.a.SearchbarContainer,children:[Object(s.jsx)($.a,{id:"combo-box-demo",autoComplete:!0,clearOnBlur:!1,options:g,filterOptions:function(t,e){return t},freeSolo:!0,getOptionLabel:function(t){return t.symbol},style:{width:300},renderInput:function(t){return Object(s.jsx)(E.a,Object(T.a)(Object(T.a)({},t),{},{label:"Search by Ticker",onChange:function(t){f(t.target.value)},variant:"outlined"}))},onChange:function(e,n){t.setCurrentStock(n.symbol)}}),Object(s.jsx)("button",{onClick:function(){t.setCurrentPage("stock")},children:"find yolo"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Owned shares:"}),N.map((function(e){return Object(s.jsxs)("div",{className:B.a.PositionData,children:["You have ",e.amt_of_purchase-e.amt_sold+" share of "+e.stock_symbol+" stock, purchased at $"+e.price_at_purchase,Object(s.jsxs)("button",{className:B.a.GoToButton,onClick:function(){t.setCurrentStock(e.stock_symbol),t.setCurrentPage("stock")},children:["Go to ",e.stock_symbol," "]}),Object(s.jsx)(H,{userId:j,purchaseId:e.purchase_id,ticker:e.stock_symbol,amtOwned:e.amt_of_purchase-e.amt_sold,isOption:!1,updateStockPositions:function(){return U()},updateNavbar:function(){return t.updateNavbar()}})]})})),Object(s.jsx)("h3",{children:"Owned contracts"}),null!=I&&I.map((function(e){if(null!=e)return Object(s.jsxs)("div",{className:B.a.PositionData,children:[Object(s.jsx)("h4",{children:e.description}),Object(s.jsx)("button",{className:B.a.GoToButton,onClick:function(){return t=e.underlying,n=e.option_purchase_id,void(-1!=j&&G.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/setOptionToExpired",{userId:j,optionSymbol:t,optionPurchaseId:n}).then((function(t){L(),console.log(t.data)})).catch((function(t){console.log(t.response)})));var t,n},children:"Ashamed? Mark as seen"}),Object(s.jsxs)("h4",{children:["Option ticker: ",e.underlying]}),e.amt_of_contracts-e.amt_sold+" contracts worth $"+e.ask+" purchased for $"+e.price_at_purchase,Object(s.jsxs)("div",{children:["You ",e.ask-e.price_at_purchase>=0?"profited ":"lost ","$",e.ask*e.amt_of_contracts-e.price_at_purchase*e.amt_of_contracts," "]}),"expired"!=e.description&&Object(s.jsx)(H,{userId:j,purchaseId:e.option_purchase_id,ticker:e.option_symbol,amtOwned:e.amt_of_contracts-e.amt_sold,isOption:!0,updateStockPositions:function(){return L()},updateNavbar:function(){return t.updateNavbar()}})]})}))]})]}),Object(s.jsx)(m,{})]})},J=n(153),q=n(13),V=n.n(q),z=n(30),K=n(65);var X=function(t){var e=Object(c.useState)(),n=Object(i.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(c.useState)(0),p=Object(i.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(!1),_=Object(i.a)(O,2),m=_[0],f=_[1],x=Object(c.useState)(""),v=Object(i.a)(x,2),g=v[0],k=v[1],C=Object(c.useState)(0),S=Object(i.a)(C,2),N=S[0],y=S[1],w=Object(c.useState)(!1),P=Object(i.a)(w,2),I=P[0],D=P[1],U=Object(c.useState)(),L=Object(i.a)(U,2),T=L[0],$=L[1],R=Object(c.useState)([]),B=Object(i.a)(R,2),E=B[0],A=B[1],F=Object(c.useState)([]),M=Object(i.a)(F,2),Y=M[0],G=M[1],W=Object(c.useState)(),q=Object(i.a)(W,2),X=q[0],Q=q[1],Z=Object(c.useState)("call"),tt=Object(i.a)(Z,2),et=tt[0],nt=tt[1],st=Object(c.useState)(!1),ct=Object(i.a)(st,2),at=ct[0],ot=ct[1],rt=Object(c.useState)(!1),it=Object(i.a)(rt,2),lt=it[0],ut=it[1],dt=Object(c.useState)([]),jt=Object(i.a)(dt,2),pt=jt[0],ht=jt[1],bt=Object(c.useState)([]),Ot=Object(i.a)(bt,2),_t=Ot[0],mt=Ot[1];Object(c.useEffect)((function(){ft();var t=setInterval((function(){ft()}),1e4);return xt(),vt(),function(){return clearInterval(t)}}),[]);var ft=function(){z.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/stockData/getStockQuote",{params:{symbol:t.stock}}).then((function(t){o(t.data)})).catch((function(t){alert(t.response)}))},xt=function(){z.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getSpecificPosition",{params:{userId:t.currentUser.user_id,stockSymbol:t.stock}}).then((function(t){ht(t.data.positions)})).catch((function(t){console.log(t.response)}))},vt=function(){z.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getSpecificOptionPosition",{params:{userId:t.currentUser.user_id,stockSymbol:t.stock}}).then((function(t){mt(t.data.positions)})).catch((function(t){console.log(t.response)}))};Object(c.useEffect)((function(){void 0!=X&&gt(a.symbol,X)}),[et]),Object(c.useEffect)((function(){z.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/stockData/getExpirations",{params:{symbol:t.stock}}).then((function(t){A(t.data)})).catch((function(t){A([])}))}),[a]);var gt=function(t,e){ot(!0),z.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/stockData/getOptionsOnDate",{params:{symbol:t,expiration:e,optionType:et}}).then((function(t){G(t.data),ot(!1)})).catch((function(t){G([]),ot(!1)}))};return Object(s.jsxs)("div",{className:V.a.Stock,children:[Object(s.jsx)("div",{className:V.a.ContentContainer,children:void 0!=a&&Object(s.jsxs)("div",{className:V.a.container,children:[Object(s.jsxs)("div",{className:V.a.StockData,children:[Object(s.jsx)("h2",{children:a.description}),Object(s.jsxs)("h2",{children:["open: $",a.open]}),Object(s.jsxs)("h2",{children:["close: $",a.last]}),Object(s.jsxs)("h2",{children:["volume: ",a.volume]}),Object(s.jsxs)("h2",{children:["Current Cost: $",a.ask]}),Object(s.jsx)("div",{children:Object(s.jsxs)("button",{onClick:function(){return f(!0)},children:["Purchase ",t.stock]})}),Object(s.jsx)("div",{}),Object(s.jsx)(J.a,{className:V.a.ModalContainer,open:m,onClose:function(){f(!1),b(0),k(""),d("")},children:lt?Object(s.jsx)("div",{children:"Purchasing"}):Object(s.jsxs)("div",{className:V.a.Modal,children:[Object(s.jsx)("div",{children:"Amt:"}),Object(s.jsx)("input",{type:"number",max:"1000",min:"1",onChange:function(t){return b(+t.target.value)}}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:["Your tendies after purchasing ",h," ",t.stock," stocks: $",Math.round(1e3*(+t.currentUser.total_money-+h*+a.ask))/1e3]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Your password:"}),Object(s.jsx)("input",{onChange:function(t){return d(t.target.value)}}),Object(s.jsxs)("button",{onClick:function(){+t.currentUser.total_money<+h*+a.ask?k("Not enough funds!"):(ut(!0),h>0?z.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/purchaseStock",{token:K.getToken(),password:u,stockSymbol:a.symbol,stockName:a.description,stockPrice:a.ask,amtOfStocks:h,exchange:a.exch}).then((function(e){k(e.data),xt(),t.updateNavbar(),ut(!1)})).catch((function(t){k("Error purchasing"),ut(!1)})):(k("Must be amt > 0"),ut(!1)))},children:["Purchase ",h+" of "+t.stock]})]}),Object(s.jsx)("h2",{className:V.a.Error,children:g})]})}),Object(s.jsx)("br",{})]}),Object(s.jsx)("h1",{children:"Options"}),Object(s.jsx)("div",{className:V.a.OptionsContainer,children:Object(s.jsxs)("select",{children:[void 0!=E&&0!=E.length?Object(s.jsx)("option",{onClick:function(){G([]),Q(""),$(void 0)},children:"Select an option"}):Object(s.jsxs)("option",{children:["No options For ",t.stock]}),void 0!=E&&0!=E.length&&E.map((function(e){return Object(s.jsx)("option",{className:V.a.Option,onClick:function(){gt(t.stock,e),$(void 0),Q(e)},children:e})}))]})})]})}),at?Object(s.jsx)("div",{className:V.a.PulledOptions,children:"loading"}):Object(s.jsxs)("div",{className:V.a.PulledOptions,children:[Object(s.jsxs)("div",{className:V.a.DescriptionContainer,children:[Object(s.jsx)("h2",{children:X}),void 0!=X&&""!=X&&Object(s.jsxs)("button",{className:V.a.OptionType,onClick:function(){$(void 0),"call"==et?nt("put"):"put"==et&&nt("call")},children:["Show ","call"==et?"put":"call"]}),(void 0!=Y||Y!=[])&&Y.map((function(t){return Object(s.jsx)("p",{onClick:function(){return $(t)},className:V.a.Option,children:t.description+" at $"+t.ask})}))]}),void 0!=T&&Object(s.jsxs)("div",{className:V.a.OptionDetailsContainer,children:[Object(s.jsx)("h2",{children:"Option Details"}),Object(s.jsx)("button",{onClick:function(){return D(!0)},children:"Purchase contract"}),Object(s.jsx)(J.a,{className:V.a.ModalContainer,open:I,onClose:function(){D(!1),y(0),k(""),d("")},children:lt?Object(s.jsx)("div",{children:"Purchasing"}):Object(s.jsxs)("div",{className:V.a.Modal,children:[Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"Amt:"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"number",max:"1000",min:"1",onChange:function(t){return y(+t.target.value)}}),"Total: $",100*N*T.ask]}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:["Your tendies after purchasing ",N," ",T.description," contracts: $",Math.round(1e3*(+t.currentUser.total_money-+N*(100*+T.ask)))/1e3]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("b",{children:"Your password:"})}),Object(s.jsx)("input",{onChange:function(t){return d(t.target.value)}}),Object(s.jsxs)("button",{onClick:function(){+t.currentUser.total_money<+N*+T.ask?k("Not enough funds!"):(ut(!0),N>0?z.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/purchaseOption",{token:K.getToken(),password:u,optionSymbol:T.symbol,optionPrice:100*T.ask,amtOfContracts:N}).then((function(e){k(e.data),vt(),t.updateNavbar(),ut(!1)})).catch((function(t){k("Error purchasing"),ut(!1)})):(k("Must be amt > 0"),ut(!1)))},children:["Purchase ",N+" of this contract"]})]}),Object(s.jsx)("h2",{className:V.a.Error,children:g})]})}),Object(s.jsx)("p",{children:T.description}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Cost of Contract (100x shares): "}),"$",T.ask]}),Object(s.jsxs)("p",{children:["Volume: ",T.volume]}),Object(s.jsxs)("p",{children:["Contract Size: ",T.contract_size]}),Object(s.jsxs)("p",{children:["Low : $",T.low," -- $High: ",T.high," "]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Greeks"}),Object(s.jsx)("div",{className:V.a.GreeksContainer,children:Object.keys(T.greeks).map((function(t){return Object(s.jsx)("p",{children:t+": "+T.greeks[t]})}))})]})]})]}),Object(s.jsxs)("div",{className:V.a.ContentContainer,children:[Object(s.jsxs)("div",{className:V.a.StockPositions,children:[Object(s.jsxs)("h2",{children:["Your ",t.stock," contracts"]}),void 0!=_t&&0!=_t.length&&_t.map((function(e){if(null!=e)return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:e.description}),Object(s.jsxs)("div",{children:["You have ",e.amt_of_contracts-e.amt_sold+" ",e.amt_of_contracts-e.amt_sold==1?"contract ":"contracts ","remaining which you purchased for $",e.price_at_purchase+" each "]}),Object(s.jsxs)("div",{children:["Currently worth $",100*e.ask,"  expiring on ",e.expiration_date]}),Object(s.jsx)(H,{userId:t.currentUser.user_id,purchaseId:e.option_purchase_id,ticker:e.symbol,amtOwned:e.amt_of_contracts-e.amt_sold,isOption:!0,updateNavbar:function(){return t.updateNavbar()},updateStockPositions:function(){return vt()}})]})}))]}),Object(s.jsxs)("div",{className:V.a.StockPositions,children:[Object(s.jsxs)("h2",{children:["Your ",t.stock," stocks"]}),void 0!=pt&&0!=pt.length&&pt.map((function(e){if(null!=e)return Object(s.jsxs)("div",{children:[" You have ",e.amt_of_purchase-e.amt_sold+" ",e.amt_of_purchase-e.amt_sold==1?"share ":"shares"," in"," "+t.stock," which you purchased at $",e.price_at_purchase+" ","on ",new Date(e.date_purchased).toDateString(),Object(s.jsx)(H,{userId:t.currentUser.user_id,purchaseId:e.purchase_id,ticker:t.stock,amtOwned:e.amt_of_purchase-e.amt_sold,isOption:!1,updateNavbar:function(){return t.updateNavbar()},updateStockPositions:function(){return xt()}})]})}))]})]})]})},Q=n(33),Z=n.n(Q),tt=n(30);var et=function(t){var e=Object(c.useState)([]),n=Object(i.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)("stocks"),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(c.useState)("sales"),p=Object(i.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(),f=Object(i.a)(O,2),x=f[0],v=f[1],g=Object(c.useState)(0),k=Object(i.a)(g,2),C=k[0],S=k[1],N=Object(c.useState)(0),y=Object(i.a)(N,2),w=y[0],P=y[1],I=Object(c.useState)(!1),D=Object(i.a)(I,2),U=D[0],L=D[1];Object(c.useEffect)((function(){T()}),[u,h]);var T=function(){console.log("history called"),"stocks"==u?$():R()},$=function(e){null!=t.currentUser?(L(!0),tt.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getUserStockHistory",{params:{userId:t.currentUser.user_id,salesOrPurchases:h,filter:x}}).then((function(t){if(console.log(t.data),o(t.data),L(!1),"sales"==h){for(var e=0,n=0;n<t.data.length;n++)e+=Math.round(100*(t.data[n].price_at_sale*t.data[n].amt_sold-t.data[n].price_at_purchase*t.data[n].amt_sold))/100;S(e)}})).catch((function(t){console.log(t.response),L(!1)}))):console.log("User not set")},R=function(e){null!=t.currentUser?(L(!0),tt.get("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/transaction/getUserContractHistory",{params:{userId:t.currentUser.user_id,salesOrPurchases:h,filter:x}}).then((function(t){if(console.log(t.data),o(t.data),L(!1),"sales"==h){for(var e=0,n=0;n<t.data.length;n++)e+=t.data[n].price_at_sale*t.data[n].amt_sold-t.data[n].price_at_purchase*t.data[n].amt_sold;P(e)}})).catch((function(t){console.log(t.response),L(!1)}))):console.log("User not set")};return Object(s.jsxs)("div",{className:Z.a.Profile,children:[Object(s.jsx)(_,{}),Object(s.jsxs)("div",{className:Z.a.UserContent,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("button",{className:Z.a.Button,onClick:function(){d("stocks"==u?"options":"stocks")},children:["Show ","stocks"==u?"options":"stocks"]}),Object(s.jsxs)("button",{className:Z.a.Button,onClick:function(){b("sales"==h?"purchases":"sales")},children:["Show ","sales"==h?"purchases":"sales"]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onChange:function(t){return v(t.target.value)},placeholder:"Filter by symbol?"}),Object(s.jsx)("button",{className:Z.a.Button,onClick:function(){"stocks"==u?void 0!=x&&0==x.length?$():$(x):void 0!=x&&x.length?R(x):R()},children:"Filter"})]})]}),U?Object(s.jsx)("div",{children:"Getting your history"}):Object(s.jsx)("div",{className:Z.a.StockHistory,children:"stocks"==u?Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:["Your stock ",h," history"]}),"sales"==h&&Object(s.jsxs)("div",{children:["Net gain/loss: $",C]}),0!=a.length&&a.map((function(t){return"sales"==h?Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.stock_symbol}),Object(s.jsxs)("div",{children:[" Sold ",t.amt_sold," shares on"," "+new Date(t.date_sold).toDateString()," for $",t.price_at_sale," each"]}),Object(s.jsxs)("div",{children:["Initially purchased for $",t.price_at_purchase]}),Object(s.jsxs)("div",{children:[" You ",t.price_at_sale-t.price_at_purchase>=0?"profited":"lost"," $"+ +Math.round(100*(t.price_at_sale*t.amt_sold-t.price_at_purchase*t.amt_sold))/100]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.stock_symbol}),Object(s.jsxs)("div",{children:["Purchased ",t.amt_of_purchase," shares on ",new Date(t.date_purchased).toDateString()]}),Object(s.jsxs)("div",{children:[" Each share cost $",t.price_at_purchase+" ","for a total of $",Math.round(t.price_at_purchase*t.amt_of_purchase*100)/100]}),Object(s.jsx)("div",{children:t.amt_of_purchase-t.amt_sold!=0?"You still have "+(t.amt_of_purchase-t.amt_sold)+" shares from this purchase":"You have no remaining shares from this purchase"})]})}))]}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:["Your contract ",h," history"]}),"sales"==h&&Object(s.jsxs)("div",{children:["Net gain/loss: $",w]}),0!=a.length&&a.map((function(t){return"sales"==h?Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.option_symbol}),Object(s.jsxs)("div",{children:[" Sold ",t.amt_sold," contracts on"," "+new Date(t.date_sold).toDateString()," for $",t.price_at_sale," each"]}),Object(s.jsxs)("div",{children:["Initially purchased for $",t.price_at_purchase]}),Object(s.jsxs)("div",{children:[" You ",t.price_at_sale-t.price_at_purchase>=0?"profited":"lost"," $"+ +Math.round(100*(t.price_at_sale*t.amt_sold-t.price_at_purchase*t.amt_sold))/100]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.option_symbol}),Object(s.jsxs)("div",{children:["Purchased ",t.amt_of_contracts," contracts on"," "+new Date(t.date_purchased).toDateString()]}),Object(s.jsxs)("div",{children:[" Each contract cost $",t.price_at_purchase+" ","for a total of"," $"+Math.round(t.price_at_purchase*t.amt_of_contracts*100)/100]}),Object(s.jsx)("div",{children:t.amt_of_contracts-t.amt_sold!=0?"You still have "+(t.amt_of_contracts-t.amt_sold)+" contracts from this purchase":"You have no remaining contracts from this purchase"})]})}))]})})]}),Object(s.jsx)(m,{})]})},nt=n(65),st=n(30);var ct=function(){var t=Object(c.useState)("home"),e=Object(i.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)({}),r=Object(i.a)(o,2),l=r[0],u=r[1],d=Object(c.useState)(!1),p=Object(i.a)(d,2),b=p[0],O=p[1],_=Object(c.useState)(!1),m=Object(i.a)(_,2),f=m[0],x=m[1],v=Object(c.useState)(),g=Object(i.a)(v,2),k=g[0],C=g[1];Object(c.useEffect)((function(){var t=nt.getToken();"fail"!=t&&(x(!0),N(t))}),[]);var N=function(t){st.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/user/loginWithToken",{token:t}).then((function(t){u(t.data[0]),a("userfeed"),O(!0),x(!1)})).catch((function(t){alert(t),x(!1)}))},y=function(t){st.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/user/loginWithToken",{token:t}).then((function(t){u(t.data[0])})).catch((function(t){alert(t)}))};return Object(c.useEffect)((function(){"{}"==JSON.stringify(l)?(a("home"),O(!1)):("stock"==n||a("userfeed"),O(!0))}),[l]),f?Object(s.jsx)("div",{className:h.a.LoadingDiv,children:"Loading"}):Object(s.jsxs)("div",{className:h.a.App,children:[Object(s.jsx)(j,{isLoggedIn:b,currentUser:l,logOut:function(){return function(){var t=nt.getToken();x(!0),st.post("https://wallstreet-bets-tycoon-backend.uc.r.appspot.com/user/logout",{token:t}).then((function(t){document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",u({}),O(!1),a("home"),x(!1)})).catch((function(t){alert(t.response),x(!1)}))}()},currentPage:n,setCurrentPage:function(t){return a(t)}}),Object(s.jsxs)("div",{children:["home"==n&&Object(s.jsx)(S,{}),"login"==n&&Object(s.jsx)(P,{setUser:function(t){return u(t)}}),"register"==n&&Object(s.jsx)(L,{}),"userfeed"==n&&Object(s.jsx)(W,{user:l,setCurrentStock:function(t){return C(t)},setCurrentPage:function(t){return a(t)},updateNavbar:function(){return y(nt.getToken())}}),"stock"==n&&Object(s.jsx)(X,{stock:k,updateNavbar:function(){return y(nt.getToken())},currentUser:l}),"profile"==n&&Object(s.jsx)(et,{currentUser:l})]})]})},at=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(e){var n=e.getCLS,s=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),s(t),c(t),a(t),o(t)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(ct,{})}),document.getElementById("root")),at()},13:function(t,e,n){t.exports={ContentContainer:"Stock_ContentContainer__MHKgI",Stock:"Stock_Stock__Buz5e",ModalContainer:"Stock_ModalContainer__dFl7P",Modal:"Stock_Modal__2TswF",OptionsContainer:"Stock_OptionsContainer__21q9k",Option:"Stock_Option__23FsC",OptionType:"Stock_OptionType__1rV05",PulledOptions:"Stock_PulledOptions__3YyU1",container:"Stock_container__8OX5l",StockData:"Stock_StockData__2NWeH",DescriptionContainer:"Stock_DescriptionContainer__3GuxG",OptionDetailsContainer:"Stock_OptionDetailsContainer__3GcO7",Error:"Stock_Error__1oEjT",Amt:"Stock_Amt__3yXLj",Container:"Stock_Container__3T0nV",StockPositions:"Stock_StockPositions__9y40j"}},15:function(t,e,n){t.exports={Navbar:"Navbar_Navbar__GXuIq",Option:"Navbar_Option__2Een8",OptionContainer:"Navbar_OptionContainer__1aMUN",LoginRegisterContainer:"Navbar_LoginRegisterContainer__1JOaO",HomeContainer:"Navbar_HomeContainer__ZRSTC",Logo:"Navbar_Logo__xSw9j",UserData:"Navbar_UserData__xfLvE",Data:"Navbar_Data__1XCxK"}},22:function(t,e,n){t.exports={Home:"Home_Home__1ihTB",Content:"Home_Content__8VN5U",Image:"Home_Image__1FUps",CarouselDiv:"Home_CarouselDiv__1_oth"}},23:function(t,e,n){t.exports={Register:"Register_Register__PAeNT",ContentContainer:"Register_ContentContainer__2VQ0S",RegisterInputsContainer:"Register_RegisterInputsContainer__2Xb_o",RegisterButton:"Register_RegisterButton__3Boxm",ResponseDiv:"Register_ResponseDiv__ZsTkE"}},28:function(t,e,n){t.exports={Login:"Login_Login__28ymq",ContentContainer:"Login_ContentContainer__3aO9a",LoginInputsContainer:"Login_LoginInputsContainer__yqxxx",LoginButton:"Login_LoginButton__3f2Mo",ResponseDiv:"Login_ResponseDiv__3dA-7"}},29:function(t,e,n){t.exports={UserFeed:"UserFeed_UserFeed__1K3HB",ContentContainer:"UserFeed_ContentContainer__2z7p0",Searchbar:"UserFeed_Searchbar__15KQy",SearchbarContainer:"UserFeed_SearchbarContainer__2Gq0J",searchCaption:"UserFeed_searchCaption__3Fjj9",PositionData:"UserFeed_PositionData__Wv5iq",GoToButton:"UserFeed_GoToButton__iwCNP"}},33:function(t,e,n){t.exports={Profile:"Profile_Profile__3EVGC",UserContent:"Profile_UserContent__3lvOW",StockHistory:"Profile_StockHistory__3hOk1",Button:"Profile_Button__wMjy9"}},40:function(t,e,n){t.exports={SidefillerLeft:"Sidefiller_SidefillerLeft__2aJh6",SidefillerRight:"Sidefiller_SidefillerRight__p7iCr"}},48:function(t,e,n){t.exports={App:"App_App__16ZpL","App-logo":"App_App-logo__25k4o","App-logo-spin":"App_App-logo-spin__1e7sv","App-header":"App_App-header__xLkWl","App-link":"App_App-link__3FsH9",LoadingDiv:"App_LoadingDiv__1R9EK"}},65:function(t,e,n){"use strict";n.r(e),n.d(e,"getToken",(function(){return s}));var s=function(){var t=document.cookie.split(";"),e="";return""==t[0]?"fail":(t.forEach((function(t){var n=t.split("="),s=n[0].trim(),c=n[1].trim();"token"==s&&(e=c)})),e)}},71:function(t,e,n){t.exports={SellContainer:"Sell_SellContainer__kYfzm"}},92:function(t,e,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.4f4d9b19.chunk.js.map